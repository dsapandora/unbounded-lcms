// Color scheme
$ub-purple: #2f1a45;
$ub-purple-1: #94849e;
$ub-light-purple: #d4ced8;
$ub-gray: #a6aaa9;
$ub-gray-1: #9e90a7;
$ub-light-gray: #edebf0;
$ub-yellow: #f5d329;
$ub-dark-bgray: #34495E;
$ub-bg-filter-light-purple: rgba(26,25,48,0.5);
$ub-bg-filter-purple: rgba(26,25,48,0.8);
$ub-orange: #f3611c;
$ub-green: #11b894;
$ub-green-sbc: #97c40f;
$ub-light-green-sbc: #e5ebce;
$ub-unit-bg: #e6e6e7;
$ub-txt-gray: #58595b;
$ub-txt-light-gray: #949699;
$ub-bg: #f2f3ee;

// Fonts
@import "_fonts";

// Font sizes
$font-size-icon: 21px;
$font-size-form: 18px;
$font-size-caret: 32px;
$font-size-footer: 12px;
// Curriculum
$font-size-form-label: 24px;
$font-size-form-control: 14px;
$font-size-grade: 32px;
$font-size-base-curriculum: 18px;
$font-size-module: 21px;
$font-size-unit: 18px;
$font-size-toggle: 14px;
// Subscribe
$font-size-sbc-tagline: 24px;
$font-size-sbc-input: 21px;
$font-size-sbc-btn: 14px;

// Bootstrap variables
$font-family-sans-serif: "Caponi Slab Web", "Helvetica Neue", Helvetica, Arial, sans-serif;
$font-family-heading: "PFCentroSansPro", "Helvetica Neue", Helvetica, Arial, sans-serif;
$font-family-heading-light: "PFCentroSansProLight", "Helvetica Neue", Helvetica, Arial, sans-serif;

$text-color: $ub-purple;
$body-bg: $ub-bg;

$navbar-height: 55px;
$navbar-default-bg: white;
$navbar-default-link-color: $ub-gray;
$navbar-default-color: $ub-gray;
$navbar-default-link-hover-bg: white;
$navbar-default-link-active-bg: white;
$navbar-default-link-hover-color: $ub-purple;
$navbar-default-border: none;
$navbar-border-radius: 0px;

$breadcrumb-bg: transparent;

$brand-primary: $ub-purple;
$border-radius-base: 0px;
$btn-border-radius-base: 0px;
$btn-border-radius-large: 0px;
$btn-border-radius-small: 0px;

$popover-bg: $ub-purple;
$popover-max-width: 450px;
$popover-min-width: 300px;

// Paddings, element sizes
$ub-module-padding: 30px;
$ub-header-padding: 320px;
$ub-element-padding: 15px;
$logo-height: 30px;
$logo-footer-width: 150px;
$logo-title-height: 36px;

// Lesson page
$lesson-img-height: 195px;
// Home page
$header-img-height: 565px;

@import "font-awesome-sprockets";
@import "font-awesome";
// "bootstrap-sprockets" must be imported before "bootstrap" and "bootstrap/variables"
@import "bootstrap-sprockets";
@import "bootstrap";
@import "selectize.bootstrap3";
@import "unbounded_controls";

h1, h2, h3, h4, h5, .navbar-brand, hero-title, .hero-subtitle {
	font-family: $font-family-heading;
}

@mixin inline-styles-overwrite($txt-color: $ub-purple, $bg-color: $ub-light-purple, $font-size: $font-size-base, $font-family: $font-family-sans-serif, $font-style: normal) {
  color: $txt-color!important; font-family: $font-family!important;
  font-size: $font-size!important;
  font-style: $font-style!important;
  background-color: $bg-color!important;
}

@mixin set-typography($font-size: $font-size-base, $font-color: $text-color, $font-family: $font-family-sans-serif) {
  font-size: $font-size;
  font-family: $font-family;
  color: $font-color;
}

.inline-link-styles-overwrite {
  color: $ub-purple!important; text-decoration: none!important;
  font-family: $font-family-sans-serif!important; font-size: $font-size-base!important;
  &:hover, &:focus {color: darken($ub-purple, 15%)!important; text-decoration: underline!important;}
}

.popover.popover-lesson {
  min-width: $popover-min-width;
  max-width: $popover-max-width;
  border-radius: 0px;
  .popover-title {
    text-transform: uppercase; font-family: $font-family-heading;
    color: #fff;
  }
  .popover-content {
    background-color: white;
    color: $ub-purple;
    margin: $ub-element-padding/2;
    padding-bottom: 0px;
    .lesson-popover-breadcrumb { font-size: small; font-family: $font-family-heading;}
    .lesson-popover-content {padding-bottom: $ub-element-padding;padding-top: $ub-element-padding;}
    .lesson-popover-cta {
      margin-left: -14px;
      margin-right: -14px;
      .btn {background-color: $ub-light-purple; font-size: $font-size-form;}
      a {
        &:hover, &:focus {color: $ub-purple!important;}
      }
    }
  }
}

header {
  .navbar {
    font-family: $font-family-heading;
    .nav li a {
      text-transform: uppercase;
    }
    .navbar-form {input[name='query'] {min-width: 200px;}}
    margin-bottom: 0px;
    //background: rgba(255, 255, 255, 0.8);
  }
}

@mixin ub-placeholder($color, $font-family) {
  // Firefox
  &::-moz-placeholder {
    color: $color;
    font-family: $font-family; font-weight: normal; font-style: italic;
    opacity: 1; // Override Firefox's unusual default opacity; see https://github.com/twbs/bootstrap/pull/11526
  }
  &:-ms-input-placeholder { color: $color; font-family: $font-family; font-weight: normal; font-style: italic;} // Internet Explorer 10+
  &::-webkit-input-placeholder  { color: $color; font-family: $font-family; font-weight: normal; font-style: italic;} // Safari and Chrome
}

.subscribe-module {
  //background-color: white;
  > div.container {
    margin-top: $ub-module-padding * 2; margin-bottom: $ub-module-padding * 2;
    > div.row > div {
      @include make-md-column(12);
      border-top: $ub-green-sbc 10px solid; border-bottom: $ub-green-sbc 2px solid;
      form {
        div.form-group {
          margin-bottom: 0px;
          > label {
            @include make-md-column(6);
            padding-bottom: $ub-module-padding; padding-top: $ub-module-padding + 4px;
            @include set-typography($font-size-sbc-tagline, $ub-txt-gray, $font-family-sans-serif);
            font-weight: bold; text-align: center;
          }
          > div:nth-child(2) {
            background-color: $ub-light-green-sbc;
            padding-bottom: $ub-module-padding; padding-top: $ub-module-padding;
            @include make-md-column(5.2); padding-right: 0px;
            input {
              border-radius: 0px; background-color: transparent;
              box-shadow: none; border: none;
              font-size: $font-size-sbc-input;
              @include ub-placeholder($ub-txt-gray, $font-family-sans-serif);
            }
          }
          > div:last-child {
            background-color: $ub-light-green-sbc;
            padding-bottom: $ub-module-padding; padding-top: $ub-module-padding;
            @include make-md-column(0.8); padding-left: 0px;
            button {
              border: none; color: $ub-txt-gray;
            }
          }
        }
      }
    }
  }
}

.home-page {
  margin-top: -$navbar-height;
  .header-module {
    background-image: image-url('home_background.jpeg');
    background-size: cover;
    height: $header-img-height;
  }
  .header-module {
    padding-top: $ub-module-padding * 6;
    padding-bottom: $ub-header-padding;
    .hero-text {
      float: right;
      //padding-right: $ub-module-padding;
      color: white;
      > div { padding: $ub-element-padding $ub-element-padding; display: block;}
      .hero-title {
        background-color: $ub-bg-filter-light-purple;
        h1 {font-family: $font-family-sans-serif; font-size: 44px;}
      }
      .hero-subtitle {
        color: $ub-yellow;
        background-color: $ub-bg-filter-purple;
        font-family: $font-family-heading-light;
        font-style: italic;
        font-size: 26px;
      }
    }
  }
  .stripe-module {
    margin-top: $ub-module-padding; margin-bottom: $ub-module-padding;
    background-color: $ub-light-gray;
    .hero-img {
      @include make-md-column(6.5); padding-left: 0px; padding-right: 0px;
      img { width: 100%;}
    }
    .hero-text {
      h2 img {height: $logo-title-height; padding-bottom: 9px;}
      @include make-md-column(5.5);
      padding-bottom: $ub-element-padding;
    }
  }
}


.lesson.lesson-empty {
  .ub-square-lesson {fill: white!important;}
  .ub-cc-lesson {fill: white!important;}
  a {pointer-events: none;}
}

.lesson, .unit-nav, .module-nav {
  a {
    svg {width: 100%; height: 100%;}
  }
}

.math {
  .lesson, .unit-nav, .module-nav {
    a {
      .ub-square-lesson, .ub-cc-lesson, .ub-square-unit, .ub-square-module  {fill: $ub-green;}
      &:hover, .active, &:focus {
        .ub-square-lesson, .ub-square-unit, .ub-square-module {fill: $ub-green;}
        .ub-cc-lesson {fill: white;}
      }
    }
  }
  .lesson.lesson-active {
    .ub-square-lesson {fill: $ub-green;}
  }
}

.ela {
  .lesson, .unit-nav, .module-nav {
    a {
      .ub-square-lesson, .ub-cc-lesson, .ub-square-unit, .ub-square-module  {fill: $ub-orange;}
      &:hover, .active, &:focus {
        .ub-square-lesson, .ub-square-unit, .ub-square-module {fill: $ub-orange;}
        .ub-cc-lesson {fill: white;}
      }
    }
  }
  .lesson.lesson-active {
    .ub-square-lesson {fill: $ub-orange;}
    .ub-cc-lesson {fill: white;}
  }
}

.module-nav-unit.active .ub-square-unit {
  fill: $ub-yellow;
}



// Subscribe:
// Get Updates and stay connected - CaponiSlab, bold, 30px
// 21px, Slab Regular Itallic

// Footer
// [PFCentroSansP... Light 12px

// Header
// Light 20px

// Controls
// Caponi Regulaar 25px
// Caponi Slab 19px

// Module
// Grade Bold + Light, 32px
// dsc - light itallic, 24px, #58595b, light 24px #949699
// Module-unit Centro Bold, 24px
// Unit background - #e6e6e7

// Show less - 15px

.search-form-page {
  .header-module {
    @include gradient-horizontal($ub-bg-filter-purple, $ub-bg-filter-purple);
    background: linear-gradient($ub-bg-filter-purple, $ub-bg-filter-purple), image-url('curriculum.jpg');
    background-size: cover;
  }
  .header-module {
    padding-top: $ub-module-padding;
    .search-form {
      @include make-md-column(12);
      form {
        @include set-typography($font-size-form-control, white);
        > div.form-group {
          > div {
            @include make-md-column(4, $grid-gutter-width/2);
            > label {min-height: 50px; font-size: $font-size-form-label; font-weight: normal;}
          }
          margin-bottom: $ub-module-padding;
        }
      }
    }
  }
  .curriculum-map-ela {
    .curriculum-grade {border-top: 4px $ub-orange solid;}
    .curriculum-grade-title {
      span.title { @include set-typography($font-size-grade, $ub-orange, $font-family-heading);}
      span.subtitle { @include set-typography($font-size-grade, $ub-orange, $font-family-heading-light);}
    }
    .module {
      .module-title {
        a:hover, a:focus {
          color: $ub-orange;
          text-decoration: none;
        }
      }
    }
    .unit {
      .unit-title {
        a:hover, a:focus {
          color: $ub-orange!important;
          text-decoration: none;
        }
      }
    }
  }
  .curriculum-map-math {
    .curriculum-grade {border-top: 4px $ub-green solid;}
    .curriculum-grade-title {
      span.title { @include set-typography($font-size-grade, $ub-green, $font-family-heading);}
      span.subtitle { @include set-typography($font-size-grade, $ub-green, $font-family-heading-light);}
    }
    .module {
      .module-title {
        a:hover, a:focus {
          color: $ub-green;
          text-decoration: none;
        }
      }
    }
    .unit {
      .unit-title {
        a:hover, a:focus {
          color: $ub-green!important;
          text-decoration: none;
        }
      }
    }
  }

  .curriculum-content {
    padding-top: $ub-module-padding;
    //background-color: $ub-unit-bg;
    @include set-typography($font-size-base-curriculum, $ub-txt-gray, $font-family-heading);
    .curriculum-grade {
      @include make-md-column(12, $ub-module-padding * 2);
      background-color: white; margin-bottom: $ub-module-padding * 2;
      @include box-shadow(3px 3px 0px darken($ub-unit-bg, 10%));
      padding-top: $ub-module-padding;
      > .row {margin-bottom: $ub-element-padding;}
      .curriculum-grade-title { @include make-md-column(10); }
      .curriculum-grade-control {
        @include make-md-column(2);
        text-align: left; padding-top: $padding-large-vertical;
        @include set-typography($font-size-toggle, $ub-txt-light-gray, $font-family-heading-light);
        .curriculum-grade-icon {@extend .fa-minus;}
      }
      .curriculum-grade-control.collapsed {.curriculum-grade-icon {@extend .fa-plus;}}
      .curriculum-grade-dsc {
        @include make-md-column(10);
        p, p span { @include inline-styles-overwrite($ub-txt-gray, white, $font-size-base-curriculum, $font-family-heading-light, italic);}
        a {@extend .inline-link-styles-overwrite;}
        .curriculum-grade-materials {
          p, p span { @include inline-styles-overwrite($ub-txt-light-gray, white, $font-size-base-curriculum, $font-family-heading-light, normal);}
        }
      }
    }
    .module-12 {
      @include make-md-column(12, $padding-base-horizontal);
      .unit {
        @include make-md-column(2, $padding-xs-horizontal * 2);
      }
    }
    .module-6 {
      @include make-md-column(6, $padding-base-horizontal);
      .unit {
        @include make-md-column(4, $padding-xs-horizontal * 2);
      }
    }
    .module-12, .module-6 {
      .unit-0 {
        padding-right: 0px; margin-right: 0px;
        .unit-wrapper {padding-right: $padding-xs-horizontal;}
      }
      .unit-1 {
        padding-left: 0px; margin-left: 0px;
        .unit-wrapper {
          padding-left: $padding-xs-horizontal;
          .unit-title {visibility:hidden;}
        }
      }
    }
    .module {
      padding-top: $padding-base-vertical; padding-bottom: $padding-base-vertical;
      .module-title {
        .module-title-title {@include make-md-column(12);}
        .module-title-dsc {
          @include make-md-column(10);
          p, p span { @include inline-styles-overwrite($ub-txt-gray, white, $font-size-base-curriculum, $font-family-heading-light, italic);}
          a {@extend .inline-link-styles-overwrite;}
          a:hover, a:focus { text-decoration: none!important;}
          strong {font-weight: normal!important;}
          p {margin-bottom: 0px!important; display: inline!important;}
          br {display: none;}
          min-height: 50px;
        }
        a {
          color: $ub-txt-gray;
        }
      }
    }
  }
}

.search-form {
  @include make-md-column(12);
  form {
    color: white; font-size: $font-size-form;
    div.form-group {
      > div {
        @include make-md-column(4, $grid-gutter-width/2);
        .ub-group-wrapper {
          padding: $grid-gutter-width/2 $grid-gutter-width/2;
          background-color: $ub-bg-filter-purple;
        }
      }
      > label {min-height: 50px;}
      margin-bottom: $ub-module-padding;
    }
    .btn-ub {background-color: $ub-yellow; color: $ub-purple; }
  }
}

.search-for-label {
  color: $ub-purple;
}

.search-total {
  color: $ub-purple;
  text-align: right;
}

.search-form-page .curriculum-content,
.lesson-page .sidebar {
  .module-wrapper {
    padding-top: $ub-element-padding/2; padding-bottom: $ub-element-padding/2;
    > div {
      @include make-row(-$padding-xs-horizontal * 4);
      .module-title {
        @include make-md-column(12, $padding-xs-horizontal * 2);
        padding-bottom: $ub-element-padding;
        .module-title-title {
          @include set-typography($font-size-module, $ub-txt-gray, $font-family-heading);
        }
        //font-family: $font-family-heading;
      }
      .unit {
        //@include make-md-column(4, $padding-xs-horizontal * 2);
        padding-top: $padding-base-vertical; padding-bottom: $padding-base-vertical;
        .unit-wrapper {
          background-color: $ub-unit-bg;
          padding-top: $ub-element-padding; padding-bottom: $ub-element-padding;
          > div {
            @include make-row(-$ub-element-padding * 2);
            .unit-title {
              @include make-md-column(12, $padding-xs-horizontal * 2);
              padding-bottom: $ub-element-padding;
              a {
                @include set-typography($font-size-unit, $ub-txt-gray, $font-family-heading);
                text-transform: uppercase;
              }
            }
            .lessons, .modules, .units {
              color: $ub-light-gray;
              @include make-md-column(12, $padding-xs-horizontal * 2);
              > div {
                @include make-row($padding-xs-horizontal);
              }
            }
            .lessons {
              > div {
                .lesson {
                  @include make-md-column(3, $padding-xs-horizontal);
                  padding-top: $padding-xs-horizontal/2; padding-bottom: $padding-xs-horizontal/2;
                  a {display: block; img {width: 100%;}}
                }
              }
            }
            .units {
              > div {
                .unit-nav {
                  @include make-md-column(4, $padding-xs-horizontal);
                  padding-top: $padding-xs-horizontal/2; padding-bottom: $padding-xs-horizontal/2;
                  a {display: block; img {width: 100%;}}
                }
              }
            }
            .modules {
              > div {
                .module-nav {
                  @include make-md-column(4, $padding-xs-horizontal);
                  padding-top: $padding-xs-horizontal/2; padding-bottom: $padding-xs-horizontal/2;
                  a {display: block; img {width: 100%;}}
                }
              }
            }
          }
        }
      }
    }
  }
}

.search-results-page {
	//background-color: $ub-light-gray;
  padding-bottom: $ub-module-padding;
	.breadcrumbs-list {
		@include make-md-column(12);
		padding-top: $ub-element-padding; //padding-bottom: $ub-element-padding;
	}
	.sidebar {
		@include make-md-column(3);
		.sidebar-block {
			@include make-md-column(12);
			padding-bottom: $ub-element-padding;
			.sidebar-block-wrapper {
				padding-top: $ub-element-padding; padding-bottom: $ub-element-padding;
				padding-left: $padding-base-horizontal; padding-right: $padding-base-horizontal;
				background-color: $ub-purple; color: white;
				.sidebar-block-content{
					padding: $padding-base-horizontal $padding-base-vertical;
					background-color: $ub-light-purple; color: $ub-purple;
				}
				h4 {text-transform: uppercase;}
			}
		}
	}
	.search-content{
		.search-content-wrapper{
			padding: $ub-element-padding $padding-base-horizontal;
			background-color: white;
			@include clearfix;
		}
		.search-controls {
			@include make-md-column(12);
			form {
				> div.form-group {
					> label {@include make-md-column(4); }
					> div.search-group {@include make-md-column(6);}
					> div:last-child {@include make-md-column(2);}
				}
			}
		}
		.search-results-content {
			@include make-md-column(12);
			.search-results {@include make-md-column(12);}
			.search-pagination {@include make-md-column(12); nav {float:right}}
			.list-description {
        background-color: white; color: gray!important;
        p, span {
          @include inline-styles-overwrite(gray, white);
          margin: 0 0 10px!important;
          span {@include inline-styles-overwrite(gray, white);}
        }
      }
		}
	}
}

.file-pdf:before {
  @extend .fa;
  content: $fa-var-file-pdf-o;
}
.file-doc:before {
  @extend .fa;
  content: $fa-var-file-word-o;
}
.file-video:before {
  @extend .fa;
  content: $fa-var-file-video-o;
}
.file-resource:before {
  @extend .fa;
  content: $fa-var-file-text-o;
}

.lesson-page {
  //background-color: $ub-light-gray;
  padding-top: $ub-module-padding; padding-bottom: $ub-module-padding;
  .sidebar {
    @include make-md-column(2);
    .module {
      padding-bottom: $ub-element-padding;
      @include make-md-column(12);
      a:hover {
        color: $ub-yellow !important;
        text-decoration: none;
      }
      .active {
        color: $ub-yellow;
      }
      .module-title {
        text-transform: uppercase;
        .module-title-grades, .module-title-module {
          display: block;
        }
        .module-title-grades {
          color: $ub-light-purple;
          font-size: $font-size-small;
        }
        .module-title-module {
          color: white;
        }
      }
      .unit {
        @include make-md-column(12, $padding-xs-horizontal * 2);
      }
      .lesson-nav {
        > div.row > div {padding-bottom: $padding-base-vertical;}
        color: white; font-size: $font-size-small;
        a {color: white; font-size: $font-size-small; text-decoration: none;}
        div.disabled {
          color: darken($ub-gray, 10%);
          a {
            color: darken($ub-gray, 10%); pointer-events: none; cursor: default;
            &:hover, &:focus {color: darken($ub-gray, 10%)!important;}
          }
        }
        .nav-module-up, .nav-module-down {
          text-align: center;
          @include make-md-column(12, $padding-xs-horizontal * 2);
          > div:first-child {margin-bottom: -$padding-base-vertical;}
        }
        .nav-lesson-left, .nav-lesson-right {
          @include make-md-column(6, $padding-xs-horizontal);
          .media {
            .media-left {padding-right: $padding-xs-horizontal;}
            .media-right {padding-left: $padding-xs-horizontal;}
          }
        }
      }
    }
  }
  .lesson-content {
    @include make-md-column(10); background-color: white; padding-bottom: $ub-element-padding;
    h4, h5 {text-transform: uppercase;}
    .lesson-img {
      @include make-md-column(12);
      background-image: image-url('home_background.jpeg'); background-size: cover;
      height: $lesson-img-height;
      margin-bottom: $ub-element-padding;
    }
    .lesson-dsc {
      @include make-md-column(6.5);
    }
    .lesson-resources {
      @include make-md-column(5.5);
      h5 {font-weight: bold; color: $ub-purple;}
      ul.media-list {padding-top: $ub-element-padding;}
      color: $ub-dark-bgray; a {color: $ub-dark-bgray;}
      .lesson-inst-resources {@include make-md-column(12);}
      .lesson-dev-resources {@include make-md-column(12);}
    }
  }
}

footer {
  background-color: $ub-purple; color: white;
  i.fa {color: $ub-light-gray; font-size: $font-size-icon;}
  padding-top: $ub-element-padding; padding-bottom: $ub-element-padding;
  .footer-logo { @include make-md-column(2); img{ width: $logo-footer-width;}}
  .footer-txt {
    padding-top: 7px;
    @include make-md-column(8);
    li+li {padding-left: $padding-xs-horizontal;}
    li {color: $ub-txt-light-gray;}
    li:last-child {color: white;}
    font-size: $font-size-footer;
  }
  .footer-list {
    @include make-md-column(2);
    ul {
      margin-bottom: 0px;
      li {padding-left: $padding-xs-horizontal/2; padding-right: $padding-xs-horizontal/2;}
    }
  }
  a {
    color: #fff;
    text-decoration: none;
    &:hover{
      color: $ub-yellow;
    }
  }
}

@media (min-width: $screen-xs-max) {
  header {
    .navbar {
      line-height: 1;
      .nav li a {
        padding-bottom: 0px;
        padding-top: ($navbar-height - $logo-height)/2 + ($logo-height - $font-size-base);
      }
    }
  }
}

.no-gutter {
    margin-left: 0 !important;
    margin-right: 0 !important;
}

.no-wrap {
    white-space: nowrap;
}

.curriculum-grade-icon:hover {
    cursor: pointer;
}

form.inline {
    display: inline;
}

.unbounded-page {
    background-color: $ub-light-gray;
    padding-top: $ub-module-padding;
    padding-bottom: $ub-module-padding;

    .unbounded-content {
        background-color: white;
        padding: $ub-element-padding;
        h4, h5 {
            text-transform: uppercase;
        }
    }
}

.homepage-link:hover {
  border-bottom: 2px solid;
  text-decoration: none;
}

@import "unbounded_md";
@import "unbounded_sm";
@import "unbounded_xs";
