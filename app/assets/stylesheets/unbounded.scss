// Color scheme
$ub-purple: #2f1a45;
$ub-purple-1: #94849e;
$ub-light-purple: #d4ced8;
$ub-gray: #a6aaa9;
$ub-gray-1: #9e90a7;
$ub-light-gray: #edebf0;
$ub-yellow: #f5d329;
$ub-bg-filter-light-purple: rgba(26,25,48,0.5);
$ub-bg-filter-purple: rgba(26,25,48,0.8);

// Fonts
@import "_fonts";

// Font sizes
$font-size-icon: 21px;
$font-size-form: 18px;
$font-size-caret: 32px;

// Bootstrap variables
$font-family-sans-serif: "Caponi Slab Web", "Helvetica Neue", Helvetica, Arial, sans-serif;
$font-family-heading: "PFCentroSansPro", "Helvetica Neue", Helvetica, Arial, sans-serif;
$font-family-heading-light: "PFCentroSansProLight", "Helvetica Neue", Helvetica, Arial, sans-serif;
$text-color: $ub-purple;
$body-bg: white;

$navbar-height: 55px;
$navbar-default-bg: white;
$navbar-default-link-color: $ub-gray;
$navbar-default-color: $ub-gray;
$navbar-default-link-hover-bg: white;
$navbar-default-link-active-bg: white;
$navbar-default-link-hover-color: $ub-purple;
$navbar-default-border: none;
$navbar-border-radius: 0px;

$breadcrumb-bg: transparent;

$brand-primary: $ub-purple;
$border-radius-base: 0px;
$btn-border-radius-base: 0px;
$btn-border-radius-large: 0px;
$btn-border-radius-small: 0px;

$popover-bg: $ub-purple;
$popover-max-width: 600px;
$popover-min-width: 300px;

// Paddings, element sizes
$ub-module-padding: 30px;
$ub-header-padding: 320px;
$ub-element-padding: 15px;
$logo-height: 30px;
$logo-footer-width: 110px;
$logo-title-height: 36px;

// Lesson page
$lesson-img-height: 195px;

@import "font-awesome-sprockets";
@import "font-awesome";
// "bootstrap-sprockets" must be imported before "bootstrap" and "bootstrap/variables"
@import "bootstrap-sprockets";
@import "bootstrap";
@import "selectize.bootstrap3";

h1, h2, h3, h4, h5, .navbar-brand, hero-title, .hero-subtitle {
	font-family: $font-family-heading;
}

@mixin inline-styles-overwrite($txt-color: $ub-purple, $bg-color: $ub-light-purple) {
  color: $txt-color!important; font-family: $font-family-sans-serif!important;
  font-size: $font-size-base!important;
  background-color: $bg-color!important;
}

.inline-link-styles-overwrite {
  color: $ub-purple!important; text-decoration: none!important;
  font-family: $font-family-sans-serif!important; font-size: $font-size-base!important;
  &:hover, &:focus {color: darken($ub-purple, 15%)!important; text-decoration: underline!important;}
}

.popover.popover-lesson {
  min-width: $popover-min-width;
  border-radius: 0px;
  .popover-content {
    background-color: white;
    color: $ub-purple;
    margin: $ub-element-padding/2;
    padding-bottom: 0px;
    .lesson-popover-breadcrumb { font-size: small; font-family: $font-family-heading;}
    .lesson-popover-title {
      text-transform: uppercase; font-family: $font-family-heading;
    }
    .lesson-popover-content {padding-bottom: $ub-element-padding;padding-top: $ub-element-padding;}
    .lesson-popover-cta {
      margin-left: -14px;
      margin-right: -14px;
      .btn {background-color: $ub-light-purple; font-size: $font-size-form;}
    }
  }
}

header {
  .navbar {
    font-family: $font-family-heading;
    .nav li a {
      text-transform: uppercase;
    }
    .navbar-form {input[name='query'] {min-width: 200px;}}
    margin-bottom: 0px;
  }
}

@mixin appearance ($value: none) {
  -webkit-appearance: $value;
  -moz-appearance: $value;
  appearance: $value;
}

.header-module {
  background-image: image-url('home_background.jpeg');
  background-size: cover;
}

.subscribe-module {
  background-color: white;
  > div.container {
    margin-top: $ub-module-padding * 2; margin-bottom: $ub-module-padding;
    > div.row > div {
      @include make-md-column(12);
      form {
        div.form-group {
          > label {@include make-md-column(5); font-size: $font-size-h3; font-style: italic; font-weight: normal;}
          > div:nth-child(2) {
            @include make-md-column(4); padding-right: 0px;
            input {border-radius: 0px; background-color: $ub-light-gray;}
          }
          > div:last-child {
            @include make-md-column(2); padding-left: 0px;
            button {
              background-color: white;
              border: none; color: $ub-purple;
            }
          }
        }
      }
    }
  }
}

.home-page {
  .header-module {
    padding-top: $ub-module-padding * 2;
    padding-bottom: $ub-header-padding;
    .hero-text {
      float: right;
      //padding-right: $ub-module-padding;
      color: white;
      > div { padding: $ub-element-padding $ub-element-padding; display: block;}
      .hero-title {
        background-color: $ub-bg-filter-light-purple;
        h1 {font-family: $font-family-sans-serif; font-size: 44px;}
      }
      .hero-subtitle {
        color: $ub-yellow;
        background-color: $ub-bg-filter-purple;
        font-family: $font-family-heading-light;
      }
    }
  }
  .stripe-module {
    margin-top: $ub-module-padding; margin-bottom: $ub-module-padding;
    background-color: $ub-light-gray;
    .hero-img {
      @include make-md-column(6.5); padding-left: 0px; padding-right: 0px;
      img { width: 100%;}
    }
    .hero-text {
      h2 img {height: $logo-title-height; padding-bottom: 9px;}
      @include make-md-column(5.5);
      padding-bottom: $ub-element-padding;
    }
  }
}

.ub-select, .ub-input {
  .selectize-input, .selectize-input.input-active {
    border: none; box-shadow: none;
    color: white; font-size: $font-size-form; line-height: $font-size-form + 2px;
    border-radius: 0px;
    border-bottom: 2px solid $ub-yellow;
    padding-top: 2px;
    background-color: transparent!important;
    outline: none; transition: none; outline: 0; box-sizing: none;
    @include appearance;
    input {color: white;}
  }
  .selectize-input.input-active { padding-top: 0px;}
  .selectize-control.single .selectize-input:after {
    color: $ub-yellow;
    @extend .fa;
    content: $fa-var-caret-down;
    font-size: $font-size-caret;
    margin-top: -$font-size-caret/3!important;
    border: none;
  }
  .selectize-control.single .selectize-input.dropdown-active:after {
    content: $fa-var-caret-up;
    margin-top: -$font-size-caret/3; border: none;
  }
  .selectize-dropdown, .selectize-dropdown.form-control  {
    background-color: rgba(0, 0, 0, 0.75);
    color: white; font-size: $font-size-form;
    margin-top: $font-size-caret/3!important;
  }
  .selectize-dropdown .active {
    background-color: rgba(255, 255, 255, 0.5);
    color: $ub-light-gray;
  }
  input, textarea {
    font-size: $font-size-form;
  }
}

.lesson.lesson-empty {
  .ub-square-lesson {fill: $ub-gray-1;}
  a {pointer-events: none;}
}

.lesson.lesson-active {
  .ub-square-lesson {fill: $ub-yellow;}
}

.lesson, .unit-nav, .module-nav {
  a {
    svg {width: 100%; height: 100%;}
    .ub-square-lesson, .ub-square-unit, .ub-square-module  {fill: $ub-light-purple;}
    &:hover, .active, &:focus {
      .ub-square-lesson, .ub-square-unit, .ub-square-module {fill: $ub-yellow;}
    }
  }
}


.search-form-page {
  .header-module {
    padding-top: $ub-module-padding;
    .search-form {
      @include make-md-column(12);
      form {
        color: white; font-size: $font-size-form;
        > div.form-group {
          > div {
            @include make-md-column(4, $grid-gutter-width/2);
            .ub-group-wrapper {
              padding: $grid-gutter-width/2 $grid-gutter-width/2;
              background-color: $ub-bg-filter-purple;
            }
          }
          label {min-height: 50px;}
          margin-bottom: $ub-module-padding;
        }
        .btn-ub {background-color: $ub-yellow; color: $ub-purple; }
      }
    }
  }
  .curriculum-content {
    padding-top: $ub-module-padding;
    background-color: $ub-light-purple;
    .curriculum-grade {
      > .row {margin-bottom: $ub-element-padding;}
      .curriculum-grade-control {
        @include make-md-column(0.5);
        .curriculum-grade-icon {@extend .fa-angle-up;}
      }
      .curriculum-grade-control.collapsed {.curriculum-grade-icon {@extend .fa-angle-down;}}
      .curriculum-grade-dsc {
        @include make-md-column(11.5); border-left: 2px solid $ub-purple;
        p, p span { @include inline-styles-overwrite; }
        a {@extend .inline-link-styles-overwrite;}
      }
    }
    .module-12 {
      @include make-md-column(12, $padding-base-horizontal);
      .unit {
        @include make-md-column(2, $padding-xs-horizontal * 2);
      }
    }
    .module-6 {
      @include make-md-column(6, $padding-base-horizontal);
      .unit {
        @include make-md-column(4, $padding-xs-horizontal * 2);
      }
    }
    .module-12, .module-6 {
      .unit-0 {
        padding-right: 0px; margin-right: 0px;
        .unit-wrapper {padding-right: $padding-xs-horizontal;}
      }
      .unit-1 {
        padding-left: 0px; margin-left: 0px;
        .unit-wrapper {
          padding-left: $padding-xs-horizontal;
          .unit-title {visibility:hidden;}
        }
      }
    }
    .module {
      padding-top: $padding-base-vertical; padding-bottom: $padding-base-vertical;
      .module-title {
        .module-title-title {@include make-md-column(4); text-transform: uppercase;}
        .module-title-dsc {@include make-md-column(8);}

        a, a:hover, a:focus {
            color: #fff;
        }

        a:hover, a:focus {
            color: $ub-yellow;
            text-decoration: none;
        }
      }
    }

    .unit {
        .unit-title {
          a:hover, a:focus {
              color: $ub-yellow;
              text-decoration: none;
          }
        }
    }
  }
}

.search-form-page .curriculum-content,
.lesson-page .sidebar {
  .module-wrapper {
    background-color: $ub-purple;
    padding-top: $ub-element-padding; padding-bottom: $ub-element-padding;
    > div {
      @include make-row(-$padding-xs-horizontal * 4);
      .module-title {
        @include make-md-column(12, $padding-xs-horizontal * 2); color: white;
        padding-bottom: $ub-element-padding;
        font-family: $font-family-heading;
      }
      .unit {
        //@include make-md-column(4, $padding-xs-horizontal * 2);
        padding-top: $padding-base-vertical; padding-bottom: $padding-base-vertical;
        .unit-wrapper {
          background-color: $ub-purple-1;
          padding-top: $ub-element-padding; padding-bottom: $ub-element-padding;
          > div {
            @include make-row(-$ub-element-padding * 2);
            .unit-title {
              @include make-md-column(12, $padding-xs-horizontal * 2);
              padding-bottom: $ub-element-padding;
              font-family: $font-family-heading;
              text-transform: uppercase;
            }
            .lessons, .modules, .units {
              color: $ub-light-gray;
              @include make-md-column(12, $padding-xs-horizontal * 2);
              > div {
                @include make-row($padding-xs-horizontal);
              }
            }
            .lessons {
              > div {
                .lesson {
                  @include make-md-column(3, $padding-xs-horizontal);
                  padding-top: $padding-xs-horizontal/2; padding-bottom: $padding-xs-horizontal/2;
                  a {display: block; img {width: 100%;}}
                }
              }
            }
            .units {
              > div {
                .unit-nav {
                  @include make-md-column(4, $padding-xs-horizontal);
                  padding-top: $padding-xs-horizontal/2; padding-bottom: $padding-xs-horizontal/2;
                  a {display: block; img {width: 100%;}}
                }
              }
            }
            .modules {
              > div {
                .module-nav {
                  @include make-md-column(4, $padding-xs-horizontal);
                  padding-top: $padding-xs-horizontal/2; padding-bottom: $padding-xs-horizontal/2;
                  a {display: block; img {width: 100%;}}
                }
              }
            }
          }
        }
      }
    }
  }
}

.search-results-page {
	background-color: $ub-light-gray;
	.breadcrumbs-list {
		@include make-md-column(12);
		padding-top: $ub-element-padding; //padding-bottom: $ub-element-padding;
	}
	.sidebar {
		@include make-md-column(3);
		.sidebar-block {
			@include make-md-column(12);
			padding-bottom: $ub-element-padding;
			.sidebar-block-wrapper {
				padding-top: $ub-element-padding; padding-bottom: $ub-element-padding;
				padding-left: $padding-base-horizontal; padding-right: $padding-base-horizontal;
				background-color: $ub-purple; color: white;
				.sidebar-block-content{
					padding: $padding-base-horizontal $padding-base-vertical;
					background-color: $ub-light-purple; color: $ub-purple;
				}
				h4 {text-transform: uppercase;}
			}
		}
	}
	.search-content{
		@include make-md-column(9);
		.search-content-wrapper{
			padding: $ub-element-padding $padding-base-horizontal;
			background-color: white;
			@include clearfix;
		}
		.search-controls {
			@include make-md-column(12);
			form {
				> div.form-group {
					> label {@include make-md-column(4); }
					> div.search-group {@include make-md-column(6);}
					> div:last-child {@include make-md-column(2);}
				}
			}
		}
		.search-results-content {
			@include make-md-column(12);
			.search-total {text-align: right; @include make-md-column(12);}
			.search-results {@include make-md-column(12);}
			.search-pagination {@include make-md-column(12); nav {float:right}}
			.list-description {
        background-color: white; color: gray!important;
        p, span {
          @include inline-styles-overwrite(gray, white);
          margin: 0 0 10px!important;
          span {@include inline-styles-overwrite(gray, white);}
        }
      }
		}
	}
}

.file-pdf:before {
  @extend .fa;
  content: $fa-var-file-pdf-o;
}
.file-doc:before {
  @extend .fa;
  content: $fa-var-file-word-o;
}
.file-video:before {
  @extend .fa;
  content: $fa-var-file-video-o;
}
.file-resource:before {
  @extend .fa;
  content: $fa-var-file-text-o;
}

.lesson-page {
  background-color: $ub-light-gray;
  padding-top: $ub-module-padding; padding-bottom: $ub-module-padding;
  .sidebar {
    @include make-md-column(2);
    .module {
      padding-bottom: $ub-element-padding;
      @include make-md-column(12);
            a:hover {
                color: $ub-yellow !important;
                text-decoration: none;
            }
            .active {
                color: $ub-yellow;
            }
      .module-title {
        text-transform: uppercase;
        .module-title-grades, .module-title-module {
                    display: block;
                }
                .module-title-grades {
                    color: $ub-light-purple;
                    font-size: $font-size-small;
                }
                .module-title-module {
                    color: white;
                }
      }
      .unit {
        @include make-md-column(12, $padding-xs-horizontal * 2);
      }
      .lesson-nav {
        > div.row > div {padding-bottom: $padding-base-vertical;}
        color: white; font-size: $font-size-small;
        a {color: white; font-size: $font-size-small; text-decoration: none;}
        div.disabled {
          color: darken($ub-gray, 10%);
          a {
            color: darken($ub-gray, 10%); pointer-events: none; cursor: default;
            &:hover, &:focus {color: darken($ub-gray, 10%)!important;}
          }
        }
        .nav-module-up, .nav-module-down {
          text-align: center;
          @include make-md-column(12, $padding-xs-horizontal * 2);
          > div:first-child {margin-bottom: -$padding-base-vertical;}
        }
        .nav-lesson-left, .nav-lesson-right {
          @include make-md-column(6, $padding-xs-horizontal);
          .media {
            .media-left {padding-right: $padding-xs-horizontal;}
            .media-right {padding-left: $padding-xs-horizontal;}
          }
        }
      }
    }
  }
  .lesson-content {
    @include make-md-column(10); background-color: white; padding-bottom: $ub-element-padding;
    h4, h5 {text-transform: uppercase;}
    .lesson-img {
      @include make-md-column(12);
      background-image: image-url('home_background.jpeg'); background-size: cover;
      height: $lesson-img-height;
      margin-bottom: $ub-element-padding;
    }
    .lesson-dsc {
      @include make-md-column(6.5);
    }
    .lesson-resources {
      @include make-md-column(5.5);
      h5 {font-weight: bold; color: $ub-purple;}
      ul.media-list {padding-top: $ub-element-padding;}
      color: $ub-gray; a {color: $ub-gray;}
      .lesson-inst-resources {@include make-md-column(12);}
      .lesson-dev-resources {@include make-md-column(12);}
    }
  }
}

footer {
  background-color: $ub-purple; color: white;
  i.fa {color: $ub-light-gray; font-size: $font-size-icon;}
  padding-top: $ub-element-padding; padding-bottom: $ub-element-padding;
  .footer-logo { @include make-md-column(2); img{ width: $logo-footer-width;}}
  .footer-txt { @include make-md-column(8); span+span {padding-left: $padding-base-horizontal;} font-size: small;}
  .footer-list {
    @include make-md-column(2);
    ul {
      margin-bottom: 0px;
      li {padding-left: $padding-xs-horizontal/2; padding-right: $padding-xs-horizontal/2;}
    }
  }
  a {
    color: #fff;
    text-decoration: underline;
    &:hover{
      color: $ub-yellow;
    }
  }
}

@media (min-width: $screen-xs-max) {
  header {
    .navbar {
      line-height: 1;
      .nav li a {
        padding-bottom: 0px;
        padding-top: ($navbar-height - $logo-height)/2 + ($logo-height - $font-size-base);
      }
    }
  }
}

@media (min-width: $screen-sm-min) and (max-width: $screen-sm-max) {
  .lesson-page {
    .sidebar {
      @include make-sm-column(12);
      .module {
        @include make-sm-column(6);
        .unit {
          @include make-sm-column(12, $padding-xs-horizontal * 2);
        }
      }
    }
    .lesson-content {
      @include make-sm-column(12);
    }
  }
  footer {
    .row > div + div { padding-top: $ub-element-padding;}
  }
}

@media (max-width: $screen-xs-max) {
  footer {
    .row > div + div { padding-top: $ub-element-padding;}
  }
}

.no-gutter {
    margin-left: 0 !important;
    margin-right: 0 !important;
}

.no-wrap {
    white-space: nowrap;
}

.curriculum-grade-title:hover {
    cursor: pointer;
}

form.inline {
    display: inline;
}

.unbounded-page {
    background-color: $ub-light-gray;
    padding-top: $ub-module-padding;
    padding-bottom: $ub-module-padding;

    .unbounded-content {
        background-color: white;
        padding: $ub-element-padding;
        h4, h5 {
            text-transform: uppercase;
        }
    }
}
